<div class="grid-wrapper">
  <div class="grid-container">
    <header>
      <pcs-column-selector [headers]="headers"
                           [columnConfig]="columnConfig"
                           (toggleColumnVisibility)="onToggleColumn($event)">
      </pcs-column-selector>
    </header>
    <div [ngStyle]="gridColumns"
         class="grid">
      <div class="grid-checkbox-header">
        <input type="checkbox" [checked]="allRowsSelected" *ngIf="selectionConfig.checkboxSelection"
               (change)="onToggleSelectAllRows()"/>
      </div>
      <ng-container *ngFor="let header of columnConfig; let i=index">
        <ng-container *ngIf="header.isVisible">
          <pcs-grid-header [header]="header"
                           (filterGrid)="changeFilterInConfig($event)"
                           (sortGrid)="onSortGrid($event)"></pcs-grid-header>
        </ng-container>
      </ng-container>
      <div class="pcs-rows">
        <ng-container *ngFor="let row of dataAndConfig; let i=index">
          <pcs-grid-row
            [ngStyle]="displayContentsStyle"
            [isSelected]="checkSelected(i)"
            [dataAndConfig]="row"
            [componentFactories]="componentFactories"
            (toggleRow)="onToggleRow(i)">
          </pcs-grid-row>
        </ng-container>
      </div>
    </div>
    <footer>
      <pcs-pagination [paginationConfig]="paginationConfig"
                      (pageNumChange)="sendNewPageNum($event)"
                      (pageSizeChange)="sendNewPageSize($event)">
      </pcs-pagination>
    </footer>
  </div>
</div>
