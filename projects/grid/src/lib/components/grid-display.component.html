<div class="container" #containerRef>
  <pcs-column-selector [headers]="headers"
                       [columnConfig]="columnConfig"
                       (toggleColumnVisibility)="onToggleColumn($event)"></pcs-column-selector>
  <div class="bg-primary">
    <div class="row">
      <input type="checkbox" [checked]="allRowsSelected" *ngIf="config.checkboxSelection" (change)="onToggleSelectAllRows()"/>
      <ng-container *ngFor="let header of headers; let i=index">
        <ng-container *ngIf="columnConfig[i].isVisible">
          <h5 [title]="header | uppercase"
              [ngClass]="headerClass(i)"
              (click)="onSortGrid(i)" >{{header | uppercase}}<span></span></h5>
        </ng-container>
      </ng-container>
    </div>
  </div>
  <div class="pcs-rows">
    <pcs-grid-row
      class="row"
      *ngFor="let row of dataAndConfig"
      [rowindex]="rowID(row)"
      [containerWidth]="containerRef.clientWidth"
      [dataAndConfig]="row"
      [selectedRows]="config.selectedRowsIndexes"
      [componentFactories]="componentFactories"
      (toggleRow)="onToggleRow($event)">
    </pcs-grid-row>
  </div>
  <br>
  <pcs-pagination [paginationConfig]="paginationConfig"
                  (pageNumChange)="sendNewPageNum($event)"
                  (pageSizeChange)="sendNewPageSize($event)"></pcs-pagination>
</div>
