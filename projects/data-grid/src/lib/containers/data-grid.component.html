<div class="grid-header">
  <ngrx-row-selection
    *ngIf="allSelected$ | async"
    [allPagesSelected]="allPagesSelected$ | async"
    [currentPageSelected]="currentPageSelected$ | async"
    (allSelected)="onAllPagesSelected()"
    (pageSelected)="onCurrentPageSelected()">
  </ngrx-row-selection>

  <ng-content></ng-content>

  <ngrx-column-selector
    [columns]="columns$ | async"
    (toggleColumnVisibility)="onToggleColumn($event)">
  </ngrx-column-selector>
</div>

<ngrx-grid-display
  *ngIf="hasVisibleColumns$ | async"
  [columns]="columns$ | async"
  [gridRows]="viewData$ | async"
  [rowDataIndexes]="rowDataIndexes$ | async"
  [selectedRowIndexes]="selectedRowIndexes$ | async"
  [selectionConfig]="config.selection"
  [checkboxSelection]="config.selection.checkboxSelection"
  [allSelected]="allSelected$ | async"
  (filterGrid)="onFilterGrid($event)"
  (sortGrid)="onSortGrid($event)"
  (toggleSelectAllRows)="onToggleAllRows($event)"
  (toggleRow)="onToggleRow($event)">
  <ngrx-grid-footer>
    <ngrx-pagination
      *ngIf="(pagination$ | async).enabled"
      [paginationConfig]="pagination$ | async"
      (pageNumberChange)="onChangePageNumber($event)"
      (pageSizeChange)="onChangePageSize($event)">
    </ngrx-pagination>
  </ngrx-grid-footer>
</ngrx-grid-display>
